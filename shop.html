<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <title>큐브미 REMAKE</title>
    <link href="common.css" type="text/css" rel="stylesheet">
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans+KR&display=swap" rel="stylesheet">
    <link rel="icon" sizes="16x16 32x32" href="images/favicon.ico">
    
    <style>
        .main_1_backimg {width: 50%; height: 100%; float: left; background-size: cover;}
        .main_1_backimg:nth-child(1) {background-image: url(images/skin_main_1.jpg);}
        .main_1_backimg:nth-child(2) {background-image: url(images/skin_main_2.jpg);}
        .main_1_text {
            position: absolute; 
            top: 10%; 
            font-size: 3rem; 
            text-align: center; 
            width: 100%; 
            font-weight: bold; 
            color: rgba(255,255,255,.8); 
            text-shadow: 0 0 50px #fff;
            transform: translateY(30%);
            opacity: 0;
        }
        .main_1_text:nth-child(4) {
            color: rgba(0,0,0,.7); 
            text-shadow: none; 
            top: 16%; 
            font-size: 2rem; 
            transition-delay: .3s;
        }
        .fade_in_rising {transform: translateY(0); opacity: 1; transition: 1s;}
        #main_1_container {
            position: absolute;
            width: 180vw; 
            height: 50%; 
            bottom: 10%; 
            background-color: rgba(255,255,255,.8); 
            border-top: 1px solid;
            border-bottom: 1px solid;
            border-color: #000;
        }
        .main_1_product {width: 30vw; height: 100%; float: left; background-size: contain; background-repeat: no-repeat; background-position: center;}
        .main_1_product:nth-child(1) {background-image: url(images/product_collagen.png);}
        .main_1_product:nth-child(2) {background-image: url(images/product_waterbank.png);}
        .main_1_product:nth-child(3) {background-image: url(images/product_shine.png);}
        .main_1_product:nth-child(4) {background-image: url(images/product_youth.png);}
        .main_1_product:nth-child(5) {background-image: url(images/product_clean.png);}
        .main_1_product:nth-child(6) {background-image: url(images/product_perfect.png);}
        
        /* 반응형 설정 시작 */
        @media only screen and (max-width: 1281px) {
        }
        @media only screen and (max-width: 769px) {
        }
        @media only screen and (max-width: 541px) {
        }
        /* 반응형 설정 끝 */
    </style>
    
</head>
<body>
    <div id="header"></div>
    
    <div id="main">
        <div class="main_box" id="main_1">
            <div class="main_1_backimg"></div>
            <div class="main_1_backimg"></div>
            <div class="main_1_text">Beauty Skin by Eating</div>
            <div class="main_1_text">Skin Products</div>
            <div id="main_1_container">
                <div class="main_1_product"></div>
                <div class="main_1_product"></div>
                <div class="main_1_product"></div>
                <div class="main_1_product"></div>
                <div class="main_1_product"></div>
                <div class="main_1_product"></div>
            </div>
        </div>
        <div class="main_box" id="main_2">
        </div>
    </div>
    
    <div id="footer"></div>
    
</body>
    
    <script>
        $(document).ready( function() {
            $("#header").load("header.html");
            $("#footer").load("footer.html");
            
            scroll100per();
            fade_in_rising();
        });
        
        $('#main_1_container').mousemove(function(e) {
            var move = e.pageX / innerWidth * -44.5;
            $('#main_1_container').css('transform','translateX('+move+'%)');
        });
        
        function fade_in_rising() {
            $('.main_1_text').addClass('fade_in_rising');
        }
        
        function resolution() {
            if(innerWidth > 1280) return 0;
            else if(innerWidth > 768) return 1;
            else if(innerWidth > 540) return 2;
            else return 3;
        }
        
        $(window).resize(detect_resize);
        function detect_resize() {
            switch(resolution()) {
                case 0:
                case 1:
                    break;
                case 2:
                case 3:
                    break;
            }
        }
        
        function scroll100per(){
            var elm = "#main";
            $(elm).each(function (index) {
                // 개별적으로 Wheel 이벤트 적용
                $(this).on("mousewheel DOMMouseScroll", function (e) {
                    e.preventDefault();
                    var delta = 0;
                    if (!event) event = window.event;
                    if (event.wheelDelta) {
                        delta = event.wheelDelta / 120;
                        if (window.opera) delta = -delta;
                    } 
                    else if (event.detail)
                        delta = -event.detail / 3;
                    var moveTop = $(window).scrollTop();
                    var elmSelecter = $(elm).eq(index);
                    // 마우스휠을 위에서 아래로
                    if (delta < 0) {
                        if ($(elmSelecter).next() != undefined) {
                            try{
                                moveTop += innerHeight; //$(elmSelecter).next().offset().top;
                            }catch(e){}
                        }
                    // 마우스휠을 아래에서 위로
                    } else {
                        if ($(elmSelecter).prev() != undefined) {
                            try{
                                moveTop -= innerHeight;//$(elmSelecter).prev().offset().top;
                            }catch(e){}
                        }
                    }
                    // 화면 이동 0.x초(x00)
                    $("html,body").stop().animate({
                        scrollTop: moveTop + 'px'
                    }, {
                        duration: 800, complete: function () {
                        }
                    });
                });
            });
        }
        
        window.addEventListener('scroll', function() {
            var adjust = -500;
            switch(resolution()){
                case 1:
                    adjust = -300;
                    break;
                case 2:
                    adjust = -100;
                    break;
                case 3:
                    adjust = 0;
                    break;
            }
            if(window.pageYOffset == 0) {
            }
        });
        
    </script>
</html>